; --------------------------------------------------------------------------
; 名称: 控制台输出字符串
; 说明: 在 SB2000 平台上向控制台输出一个中文字符串示例
; 作者: Lion
; 邮箱: chengbin@3578.cn
; 日期: 2025-09-23
; 备注: 适配 cc65 汇编与 sb2k.cfg 链接脚本
; --------------------------------------------------------------------------
.segment "CODE"
	JMP START
	.byte $AA, $55, $00, $00, $00

START:
	; 设置显示起始列为第1列（靠左）
	LDA #1
	STA $630C

	; 显示字符串（传递 MSG 的低/高字节）
	LDA #<MSG
	STA $4B
	LDA #>MSG
	STA $4C

	LDA #$25
	STA $63E
	LDA #$00
	STA $0642
	LDA #$55
	STA $000C
	LDA #$82
	STA $000D
	JSR $FFF0

	; 等待任意键返回
	LDA #$6D
	STA $63E
	LDA #$0A
	STA $63F
	JSR $FFF0
	RTS

MSG:
	.byte "你好 SB2000!",0

; --------------------------------------------------------------------------
; 中断/复位向量区（适配 sb2k.cfg）
; --------------------------------------------------------------------------
.segment "VECTORS"
	.word 0	; NMI
	.word START	; RESET
	.word 0	; IRQ